{% load i18n %}
{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>
            {% block head_title %}
            {% endblock head_title %}
        </title>
        {% block extra_head %}
        {% endblock extra_head %}

        <link rel="stylesheet" href="{% static 'style.css' %}">
    </head>
    <body class="min-h-dvh bg-gray-950 flex flex-col font-sans text-white">
        <header>
            <nav class="bg-gray-900 flex flex-row w-full justify-between items-center">
                <a href={% url "index" %} class="p-3 text-left text-4xl font-mono">Gamblino</a>
                <div class="group/menu relative p-3">
                    {% if user.is_authenticated %}
                        {%comment%}
                        {% url 'account_login' as login_url_ %}
                        {% if login_url_ %}
                            <li class="bg-gray-700 p-1 rounded-t-lg group/item hover:bg-gray-600">
                                <a href="{{ login_url_ }}"
                                    class="text-nowrap group-hover/item:text-emerald-600">{% trans "Sign In" %}</a>
                            </li>
                        {% endif %}
                        {% url 'account_signup' as signup_url_ %}
                        {% if signup_url_ %}
                            <li class="bg-gray-700 p-1 rounded-b-lg group/item hover:bg-gray-600">
                                <a href="{{ signup_url_ }}"
                                    class="text-nowrap group-hover/item:text-emerald-600">{% trans "Sign Up" %}</a>
                            </li>
                        {% endif %}
                        {%endcomment%}
                            <a href="#" class="text-left hover:text-emerald-600">{% trans "Menu" %}</a>
                            <ul class="invisible absolute right-1 bg-gray-800 rounded-lg group-hover/menu:visible">
                                <li class="bg-gray-700 p-1 rounded-t-lg group/item hover:bg-gray-600">
                                    <a href="/user/profile"
                                    class="text-nowrap group-hover/item:text-emerald-600">
                                        {% comment %} adjust user info accordingly {% endcomment %}
                                        {% block user_info %} 
                                            {% if user.first_name %}
                                                {{ user.first_name }}
                                            {% else %}
                                                {{ user.username }}
                                            {% endif %}
                                        {% endblock user_info %}
                                    </a>
                                </li>
                                <li class="bg-gray-700 p-1 rounded-b-lg group/item hover:bg-gray-600">
                                    <a href="/accounts/logout"
                                       class="text-nowrap group-hover/item:text-emerald-600">
                                       Log Out
                                    </a>
                                </li>
                                {% endif %}
                            </ul>
                </div>
            </nav>
        </header>
        {% block body %}
            {% block content %}
            {% endblock content %}
        {% endblock body %}
        {% block extra_body %}
        {% endblock extra_body %}
    </body>
</html>
